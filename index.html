<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>


        <button data-search="cats">Funny Cat Gifs</button>
        <button data-search="people">People</button>
        <button data-search="toddlers" >Toddlers</button>
        <input type="search" id="mySearch" name="search"><button data-search="searchButton">Search</button>
        
            
<script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
<script type ="text/javascript">



  $("button").on("click", function() {
          
          var searchTerm =$(this).data("search");
         if(searchTerm === "searchButton"){
                 searchTerm = $("#mySearch").val().trim();
         }

var queryURL = "http://api.giphy.com/v1/gifs/search?q="+searchTerm+"&api_key=P4zd4DpT3G8sVMwDCrmBEMrl1EjVGHk3&limit=10";



$.ajax({
    url: queryURL,
    method: "GET"})

.done(function(response){
  console.log(response.data);

  for (var i = 0; i < response.data.length; i++){


        var div = $("<div class='imgDiv'>");
        var img = $('<img>');
        img.attr("data-animate", response.data[i].images.downsized.url)
        img.attr("data-still", response.data[i].images.downsized_still.url)
        img.attr("data-state", "still")
        img.attr("src", response.data[i].images.downsized_still.url)

        div.append(img);


         $('body').append(div);
        

}
})

  });

  $(document).on("click", 'img', function(){
        var state =  $(this).attr("data-state");
        var animatedURL = $(this).attr("data-animate");
        var stillURL = $(this).attr("data-still");
        if( state === "still"){
                $(this).attr("src", animatedURL);
                $(this).attr("data-state", "animated");
        } else {
                $(this).attr("src", stillURL);
                $(this).attr("data-state", "still");          
        }
  })



</script>  
</body>
</html>